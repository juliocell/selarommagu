<?xml version="1.0" encoding="utf-8" ?>
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2" assembly="ControladorBaseDatos" namespace="ControladorBaseDatos">

  <class name="Ordendecompra" table="ORDENDECOMPRA" lazy="false">

    <id name="Id">
		<column name="IdOrden" sql-type="number(10)" not-null="true" />
		<generator class="sequence">
			<param name ="sequence">
				Id_orden
			</param>
		</generator>
    </id>

    <property name="FechaCreacion">
		<column name="FechaCreacion" sql-type="Date" not-null="true"/>
	</property>
	
	<property name="InformacionAdicional">
		<column name="InformacionAdicional" sql-type="varchar2(200)" not-null="true" />
	</property>

  <many-to-one name="Usuario" column="fk_Usuario" class="Usuario"/>
  <many-to-one name="FormaPago" column="fk_FormaPago" class="FormaPago"/>

  <bag name="Historial" inverse="true" lazy="true">
    <key column="fk_IdOrden"/>
    <one-to-many class="HistorialOrden"/>
    </bag>

    <one-to-one name="Factura"  class="Factura"/>

    <bag name="DetalleOrden" inverse="true" lazy="true">
      <key column="fk_IdOrden"/>
      <one-to-many class="DetalleOrden"/>
    </bag>



  </class>
</hibernate-mapping>